<!doctype html>
<html lang="az">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>MovieLand â€” Legal Movie Catalog</title>
<style>
  :root{
    --bg:#0f0f12; --card:#121217; --muted:#9aa0a6; --accent:#00b3ff;
    --max-width:1200px;
  }
  *{box-sizing:border-box}
  body{margin:0;font-family:Inter,Arial,Helvetica,sans-serif;background:var(--bg);color:#fff}
  .wrap{max-width:var(--max-width);margin:0 auto;padding:12px}
  header{display:flex;align-items:center;justify-content:space-between;padding:12px 0}
  .brand{font-weight:700;font-size:20px;display:flex;gap:10px;align-items:center}
  .lang{margin-left:8px}
  .searchbar{flex:1;display:flex;justify-content:center}
  .searchbar input{width:100%;max-width:520px;padding:10px;border-radius:8px;border:1px solid #222;background:#0b0b0b;color:#fff}
  nav.cats{display:flex;gap:8px;flex-wrap:wrap;margin:12px 0}
  nav.cats button{background:#141416;border:1px solid #212226;color:#fff;padding:8px 12px;border-radius:6px;cursor:pointer}
  .hero-ad{background:#111;padding:12px;border-radius:8px;text-align:center;margin-bottom:12px}
  .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:14px}
  .card{background:var(--card);border-radius:10px;overflow:hidden;cursor:pointer;transition:transform .15s}
  .card:hover{transform:translateY(-4px)}
  .poster{width:100%;height:240px;object-fit:cover;display:block;background:#222}
  .ctitle{padding:10px;font-size:15px;text-align:center}
  footer{padding:20px;text-align:center;color:var(--muted)}
  /* slide-over detail panel */
  .detail-panel{position:fixed;right:0;top:0;height:100vh;width:0;background:linear-gradient(180deg,#0b0b0d,#111);overflow:auto;z-index:60;transition:width .25s;box-shadow:-20px 0 60px rgba(0,0,0,.6)}
  .detail-panel.open{width:100%;max-width:920px}
  .detail-inner{padding:18px}
  .close-btn{background:#111;border:1px solid #222;color:#fff;padding:8px 12px;border-radius:6px;cursor:pointer}
  .movie-meta{display:flex;gap:18px;align-items:flex-start;flex-wrap:wrap}
  .movie-poster{width:220px;border-radius:8px}
  .meta-right{flex:1}
  .meta-right h2{margin:0 0 6px}
  .meta-right p{color:var(--muted);line-height:1.4}
  .section{margin-top:16px;padding:12px;background:#0b0b0b;border-radius:8px}
  .ad-slot{background:#17181a;border:2px dashed #2a2a2a;padding:16px;text-align:center;color:var(--muted);border-radius:8px}
  /* responsive */
  @media (max-width:700px){
    .movie-poster{width:100%;height:auto}
    .poster{height:180px}
  }
</style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="brand">ðŸŽ¬ <span id="siteName">MovieLand</span></div>
      <div style="display:flex;gap:12px;align-items:center;width:100%">
        <div class="searchbar"><input id="searchInput" placeholder="Search movies..." /></div>
        <div class="lang">
          <select id="langSel" aria-label="language">
            <option value="az">AZ</option>
            <option value="tr">TR</option>
            <option value="en" selected>EN</option>
          </select>
        </div>
      </div>
    </header>

    <!-- top banner ad -->
    <div class="hero-ad">
      <div class="ad-slot">Header Banner â€” Ad Space (728x90 or responsive). Put AdSense script here.</div>
    </div>

    <!-- categories -->
    <nav class="cats" id="cats"></nav>

    <!-- main grid -->
    <main>
      <div class="grid" id="grid"></div>
    </main>

    <!-- inline ad -->
    <div style="margin:18px 0"><div class="ad-slot">Inline Ad Slot â€” 1 (Responsive)</div></div>

    <footer>Â© <span id="year"></span> MovieLand â€” Legal trailers & info</footer>
  </div>

  <!-- detail panel -->
  <aside id="detail" class="detail-panel" aria-hidden="true">
    <div class="detail-inner">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:12px">
        <div style="display:flex;gap:12px;align-items:center">
          <button class="close-btn" onclick="closeDetail()">Close</button>
          <h3 id="detailTitle" style="margin:0"></h3>
        </div>
      </div>

      <div class="movie-meta" style="margin-top:12px">
        <img id="detailPoster" class="movie-poster" src="" alt="poster">
        <div class="meta-right">
          <h2 id="detailName"></h2>
          <p id="detailDesc"></p>

          <div class="section" id="trailerSection">
            <h4 data-translate="trailer">Trailer</h4>
            <div id="trailerWrap" style="margin-top:8px"></div>
          </div>

          <div class="section" id="infoSection">
            <h4>Info</h4>
            <p><strong>Year:</strong> <span id="infoYear"></span></p>
            <p><strong>Genre:</strong> <span id="infoGenre"></span></p>
            <p><strong>IMDB:</strong> <span id="infoImdb"></span></p>
          </div>

          <div class="section" id="whereSection">
            <h4 data-translate="where">Where to Watch</h4>
            <p id="whereLinks">Links to legal providers (Netflix, Amazon) will appear here.</p>
          </div>

          <div class="section">
            <h4 data-translate="download">Download / Save</h4>
            <p>Authorized download links or purchase links can be added here. (Placeholder)</p>
          </div>

          <div style="margin-top:12px" class="ad-slot">Detail Page Ad Slot</div>
        </div>
      </div>

    </div>
  </aside>

<script>
/* -------------------------
  Static movie dataset (example)
  Replace or wire to TMDB API later
------------------------- */
const movies = [
  { id:'avengers', title:'Avengers: Endgame', year:2019, genre:'Action', poster:'https://m.media-amazon.com/images/M/MV5BMTc5MDE2ODcwNV5BMl5BanBnXkFtZTgwMzI2NzQ2NzM@._V1_.jpg', trailer:'https://www.youtube.com/embed/TcMBFSGVi1c', imdb:'8.4', where: [{name:'Disney+', url:'#'}], desc:'The Avengers assemble to reverse Thanos.'},
  { id:'joker', title:'Joker', year:2019, genre:'Drama', poster:'https://m.media-amazon.com/images/M/MV5BNzY3OWQ5NDktNWQ2OC00ZjdlLThkMmItMDhhNDk3NTFiZGU4XkEyXkFqcGc@._V1_FMjpg_UX1000_.jpg', trailer:'https://www.youtube.com/embed/zAGVQLHvwOY', imdb:'8.5', where:[{name:'HBO Max', url:'#'}], desc:'A gritty character study of Arthur Fleck.'},
  { id:'spiderman', title:'Spider-Man: No Way Home', year:2021, genre:'Action', poster:'https://m.media-amazon.com/images/M/MV5BMmFiZGZjMmEtMTA0Ni00MzA2LTljMTYtZGI2MGJmZWYzZTQ2XkEyXkFqcGc@._V1_.jpg', trailer:'https://www.youtube.com/embed/JfVOs4VSpmA', imdb:'8.1', where:[{name:'Paramount+', url:'#'}], desc:'Peter Parker faces multiverse chaos.'},
  { id:'freeguy', title:'Free Guy', year:2021, genre:'Comedy', poster:'https://m.media-amazon.com/images/M/MV5BN2I0MGMxYjUtZTZiMS00MzMxLTkzNWYtMDUyZmUwY2ViYTljXkEyXkFqcGc@._V1_FMjpg_UX1000_.jpg', trailer:'https://www.youtube.com/embed/X2m-08cOAbc', imdb:'7.1', where:[{name:'Amazon', url:'#'}], desc:'A bank teller discovers he is an NPC.'},
  { id:'interstellar', title:'Interstellar', year:2014, genre:'Sci-Fi', poster:'https://m.media-amazon.com/images/M/MV5BYzdjMDAxZGItMjI2My00ODA1LTlkNzItOWFjMDU5ZDJlYWY3XkEyXkFqcGc@._V1_.jpg', trailer:'', imdb:'8.6', where:[{name:'DVD', url:'#'}], desc:'Explorers travel through a wormhole to save humanity.'}
];

/* UI elements */
const grid = document.getElementById('grid');
const cats = document.getElementById('cats');
const searchInput = document.getElementById('searchInput');
const langSel = document.getElementById('langSel');
const yearSpan = document.getElementById('year');
yearSpan.textContent = new Date().getFullYear();

/* build categories */
const categories = ['all', ...Array.from(new Set(movies.map(m=>m.genre.toLowerCase())))];
function renderCats(){
  cats.innerHTML = '';
  categories.forEach(cat=>{
    const b=document.createElement('button');
    b.textContent = cat==='all' ? 'All' : capitalize(cat);
    b.onclick = ()=>filterBy(cat);
    cats.appendChild(b);
  });
}

/* render grid */
function renderGrid(list){
  grid.innerHTML='';
  list.forEach(m=>{
    const d=document.createElement('div');
    d.className='card';
    d.innerHTML = `<img class="poster" loading="lazy" src="${m.poster}" alt="${escapeHtml(m.title)}"><div class="ctitle">${escapeHtml(m.title)}</div>`;
    d.onclick = ()=>openDetail(m.id);
    grid.appendChild(d);
  });
}

/* filtering & searching */
function filterBy(cat){
  if(cat==='all') renderGrid(movies);
  else renderGrid(movies.filter(m=>m.genre.toLowerCase()===cat));
}
searchInput.addEventListener('input', ()=> {
  const q=searchInput.value.trim().toLowerCase();
  if(!q) renderGrid(movies);
  else renderGrid(movies.filter(m=>m.title.toLowerCase().includes(q) || (m.desc||'').toLowerCase().includes(q)));
});

/* open detail in same page (slide-over) */
const detail = document.getElementById('detail');
function openDetail(id){
  const m = movies.find(x=>x.id===id);
  if(!m) return;
  document.getElementById('detailTitle').textContent = m.title;
  document.getElementById('detailName').textContent = m.title;
  document.getElementById('detailDesc').textContent = m.desc;
  document.getElementById('detailPoster').src = m.poster;
  document.getElementById('infoYear').textContent = m.year;
  document.getElementById('infoGenre').textContent = m.genre;
  document.getElementById('infoImdb').textContent = m.imdb;
  // trailer (same page)
  const trailerWrap = document.getElementById('trailerWrap');
  if(m.trailer){
    trailerWrap.innerHTML = `<iframe src="${m.trailer}" width="100%" height="360" frameborder="0" allowfullscreen></iframe>`;
  } else {
    trailerWrap.innerHTML = `<p style="color:var(--muted)"><i>No trailer available</i></p>`;
  }
  // where to watch
  const where = document.getElementById('whereLinks');
  where.innerHTML = m.where.map(w=>`<a href="${w.url}" style="color:var(--accent)">${w.name}</a>`).join(' â€¢ ');
  detail.classList.add('open');
  detail.setAttribute('aria-hidden','false');
  // push history for back button behaviour
  history.pushState({movie:id},'',`#${id}`);
}

/* close */
function closeDetail(){
  detail.classList.remove('open');
  detail.setAttribute('aria-hidden','true');
  if(location.hash) history.pushState(null, '', location.pathname);
}

/* helpers */
function capitalize(s){ return s.charAt(0).toUpperCase()+s.slice(1) }
function escapeHtml(s){ return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;') }

/* language translate (simple keys) */
const translations = {
  az:{trailer:'Fragman', where:'Harada izlÉ™mÉ™k', download:'YÃ¼klÉ™'},
  tr:{trailer:'Fragman', where:'Nerede Ä°zlenir', download:'Ä°ndir'},
  en:{trailer:'Trailer', where:'Where to Watch', download:'Download'}
};
function applyLang(lang){
  document.querySelectorAll('[data-translate]').forEach(el=>{
    const k=el.getAttribute('data-translate');
    el.textContent = translations[lang][k] || el.textContent;
  });
}
langSel.addEventListener('change', ()=>applyLang(langSel.value));

/* init */
renderCats();
renderGrid(movies);
applyLang('en');

/* handle history back/forward to close detail */
window.addEventListener('popstate', (ev)=>{
  if(ev.state && ev.state.movie) openDetail(ev.state.movie);
  else closeDetail();
});

/* Accessibility: close on Escape */
window.addEventListener('keydown', e=>{ if(e.key==='Escape') closeDetail(); });

</script>
</body>
</html>
